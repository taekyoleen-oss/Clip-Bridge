# ğŸ›¡ï¸ Supabase í”„ë¡œì íŠ¸ ì¼ì‹œ ì¤‘ì§€ ë°©ì§€ ê°€ì´ë“œ

Supabase ë¬´ë£Œ í”Œëœì€ **7ì¼ê°„ ë¹„í™œì„± ìƒíƒœ**ê°€ ì§€ì†ë˜ë©´ í”„ë¡œì íŠ¸ê°€ ìë™ìœ¼ë¡œ ì¼ì‹œ ì¤‘ì§€(pause)ë©ë‹ˆë‹¤. ì´ ê°€ì´ë“œëŠ” í”„ë¡œì íŠ¸ê°€ ì¼ì‹œ ì¤‘ì§€ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

## âœ… ìë™ í•´ê²° ë°©ë²• (ì½”ë“œì— í¬í•¨ë¨)

ClipBridge ì•±ì—ëŠ” **ìë™ Heartbeat ê¸°ëŠ¥**ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- âœ… ì•±ì´ ì—´ë ¤ìˆì„ ë•Œ **5ë¶„ë§ˆë‹¤** ìë™ìœ¼ë¡œ Supabaseì— ìš”ì²­ ì „ì†¡
- âœ… í˜ì´ì§€ê°€ í™œì„± ìƒíƒœì¼ ë•Œë§Œ ì‹¤í–‰ (ë°±ê·¸ë¼ìš´ë“œì—ì„œëŠ” ì‹¤í–‰ ì•ˆ í•¨)
- âœ… ìµœì†Œí•œì˜ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© (ê°€ë²¼ìš´ ì¿¼ë¦¬ë§Œ ì‹¤í–‰)

### ì‘ë™ ë°©ì‹

1. **ì•± ì‹¤í–‰ ì‹œ ìë™ ì‹œì‘**
   - ë¸Œë¼ìš°ì €ì—ì„œ ì•±ì„ ì—´ë©´ ìë™ìœ¼ë¡œ Heartbeat ì‹œì‘
   - ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”

2. **ì£¼ê¸°ì  í™œë™ ìœ ì§€**
   - 5ë¶„ë§ˆë‹¤ Supabaseì— ê°„ë‹¨í•œ ì¿¼ë¦¬ ì „ì†¡
   - í”„ë¡œì íŠ¸ê°€ í™œì„± ìƒíƒœë¡œ ìœ ì§€ë¨

3. **ìë™ ì¤‘ì§€**
   - ì•±ì„ ë‹«ìœ¼ë©´ ìë™ìœ¼ë¡œ Heartbeat ì¤‘ì§€
   - ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ ë°©ì§€

## ğŸ”§ ìˆ˜ë™ ë°©ë²•

### ë°©ë²• 1: ì •ê¸°ì ìœ¼ë¡œ ì•± ì‚¬ìš©í•˜ê¸°

ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ **ì¼ì£¼ì¼ì— í•œ ë²ˆ ì´ìƒ** ì•±ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤:

1. ë¸Œë¼ìš°ì €ì—ì„œ ì•± ì—´ê¸°
2. í…ìŠ¤íŠ¸ ë³µì‚¬í•˜ì—¬ ì €ì¥ í…ŒìŠ¤íŠ¸
3. ë˜ëŠ” ì €ì¥ëœ í´ë¦½ í™•ì¸

### ë°©ë²• 2: Supabase ëŒ€ì‹œë³´ë“œ ì ‘ì†

Supabase ëŒ€ì‹œë³´ë“œì— ì ‘ì†í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ í™œë™ìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤:

1. [Supabase Dashboard](https://supabase.com/dashboard) ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. Table Editorë‚˜ SQL Editor ì—´ê¸°

### ë°©ë²• 3: ìë™í™” ìŠ¤í¬ë¦½íŠ¸ (ê³ ê¸‰)

ì„œë²„ë‚˜ í´ë¼ìš°ë“œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ê¸°ì ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
// ì˜ˆì‹œ: Vercel Cron Job ë˜ëŠ” GitHub Actions
// ë§¤ì¼ í•œ ë²ˆ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸

const { createClient } = require('@supabase/supabase-js');

const supabase = createClient(
  process.env.SUPABASE_URL,
  process.env.SUPABASE_ANON_KEY
);

// ê°„ë‹¨í•œ ì¿¼ë¦¬ ì‹¤í–‰
async function keepAlive() {
  await supabase.from('clips').select('id').limit(1);
}

keepAlive();
```

## ğŸ“Š í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸

### Supabase ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸

1. [Supabase Dashboard](https://supabase.com/dashboard) ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸:
   - **Active**: ì •ìƒ ì‘ë™ ì¤‘ âœ…
   - **Paused**: ì¼ì‹œ ì¤‘ì§€ë¨ â¸ï¸

### ì¼ì‹œ ì¤‘ì§€ëœ í”„ë¡œì íŠ¸ ë³µêµ¬

í”„ë¡œì íŠ¸ê°€ ì¼ì‹œ ì¤‘ì§€ëœ ê²½ìš°:

1. Supabase ëŒ€ì‹œë³´ë“œì—ì„œ í”„ë¡œì íŠ¸ ì„ íƒ
2. **"Restore"** ë˜ëŠ” **"Resume"** ë²„íŠ¼ í´ë¦­
3. ëª‡ ë¶„ í›„ í”„ë¡œì íŠ¸ê°€ ë‹¤ì‹œ í™œì„±í™”ë¨

## âš™ï¸ Heartbeat ì„¤ì • ë³€ê²½

Heartbeat ê°„ê²©ì„ ë³€ê²½í•˜ë ¤ë©´ `lib/heartbeat.ts` íŒŒì¼ì„ ìˆ˜ì •í•˜ì„¸ìš”:

```typescript
// ê¸°ë³¸ê°’: 5ë¶„ (5 * 60 * 1000ms)
private readonly INTERVAL_MS = 5 * 60 * 1000;

// ë” ìì£¼ ì‹¤í–‰í•˜ë ¤ë©´ (ì˜ˆ: 3ë¶„)
private readonly INTERVAL_MS = 3 * 60 * 1000;

// ëœ ìì£¼ ì‹¤í–‰í•˜ë ¤ë©´ (ì˜ˆ: 10ë¶„)
private readonly INTERVAL_MS = 10 * 60 * 1000;
```

**ê¶Œì¥ ì„¤ì •:**
- **5ë¶„**: ì ì ˆí•œ ê· í˜• (ê¸°ë³¸ê°’)
- **3ë¶„**: ë” ìì£¼ í™•ì¸ (ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ì¦ê°€)
- **10ë¶„**: ëœ ìì£¼ í™•ì¸ (ì¼ì‹œ ì¤‘ì§€ ìœ„í—˜ ì•½ê°„ ì¦ê°€)

## ğŸ¯ ëª¨ë‹ˆí„°ë§

### ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ í™•ì¸

ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬(F12) > Consoleì—ì„œ ë‹¤ìŒ ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
Heartbeat: Supabase ì—°ê²° ìœ ì§€ë¨
```

ì´ ë©”ì‹œì§€ê°€ 5ë¶„ë§ˆë‹¤ ë‚˜íƒ€ë‚˜ë©´ Heartbeatê°€ ì •ìƒ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤.

### Heartbeat ë¹„í™œì„±í™”

Heartbeatë¥¼ ë¹„í™œì„±í™”í•˜ë ¤ë©´ `app/page.tsx`ì—ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì œê±°í•˜ì„¸ìš”:

```typescript
// ì´ ë¶€ë¶„ ì œê±°
const heartbeat = getHeartbeat();
heartbeat.start();

// cleanupì—ì„œë„ ì œê±°
heartbeat.stop();
```

## ğŸ“ ì£¼ì˜ì‚¬í•­

1. **ë¬´ë£Œ í”Œëœ ì œí•œ**
   - ë¬´ë£Œ í”Œëœì€ 7ì¼ ë¹„í™œì„± í›„ ìë™ ì¼ì‹œ ì¤‘ì§€
   - ìœ ë£Œ í”Œëœì€ ì¼ì‹œ ì¤‘ì§€ ì—†ìŒ

2. **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©**
   - HeartbeatëŠ” ìµœì†Œí•œì˜ ë¦¬ì†ŒìŠ¤ë§Œ ì‚¬ìš©
   - 5ë¶„ë§ˆë‹¤ ê°„ë‹¨í•œ ì¿¼ë¦¬ 1ê°œë§Œ ì‹¤í–‰

3. **í”„ë¡œë•ì…˜ í™˜ê²½**
   - í”„ë¡œë•ì…˜ì—ì„œëŠ” ì‚¬ìš©ì í™œë™ì´ ìì—°ìŠ¤ëŸ½ê²Œ Heartbeat ì—­í• 
   - ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì¶”ê°€ ì„¤ì • í•„ìš”í•  ìˆ˜ ìˆìŒ

## âœ… ì™„ë£Œ!

ì´ì œ ClipBridge ì•±ì´ ì—´ë ¤ìˆì„ ë•Œ ìë™ìœ¼ë¡œ Supabase í”„ë¡œì íŠ¸ê°€ í™œì„± ìƒíƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤!

## ğŸ“ ì¶”ê°€ ë„ì›€ë§

- [Supabase ê³µì‹ ë¬¸ì„œ - í”„ë¡œì íŠ¸ ì¼ì‹œ ì¤‘ì§€](https://supabase.com/docs/guides/platform/project-pause)
- [Supabase ê°€ê²© ì •ì±…](https://supabase.com/pricing)

